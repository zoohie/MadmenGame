import {BaseView} from "../../core/engine/BaseView";
import {CoreRenderer} from "../../core/engine/renderer/CoreRenderer";
import {IRenderViewParams} from "../renderModule/IRenderViewParams";
import {TweenLite} from "gsap";
import {AdditionalInfoController} from "general-framework";

export class RootView extends BaseView {

    public addToStage(): void {
        CoreRenderer.stage.addChild(this.source);
        this.source.alpha = 0;
        TweenLite.to(this.source, 0.8, {
            alpha: 1
        });
    }

    public onResize(params: IRenderViewParams) {
        if (!this.source) {
            return;
        }
        if (params.width && params.height) {
            this.source.scale.x = this.source.scale.y = params.scale;
        }
        this.source.position.set(params.positionX, params.positionY);

        /**
         * 1.5 - cause all slot games are in resolution 1920 * 1080, old slots and roullete are in 1280 * 720
         */
        AdditionalInfoController.setScale(params.scale * 1.5);
    }
}
