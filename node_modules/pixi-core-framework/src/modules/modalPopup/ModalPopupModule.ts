import {ApplicationModule} from "../../core/engine/ApplicationModule";
import {addServerModel, bindMediator, createInstance} from "../../core/engine/createInstance";
import {ErrorServerModel} from "./models/ErrorServerModel";
import {YesNoPopupMediator} from "./mediators/YesNoPopupMediator";
import {YesNoPopupView} from "./views/YesNoPopupView";
import {YesNoSoundPopupMediator} from "./mediators/YesNoSoundPopupMediator";
import {ModalPopup} from "general-framework";
import {LowBalancePopupMediator} from "./mediators/LowBalancePopupMediator";
import {LowBalancePopupView} from "./views/LowBalancePopupView";
import {ClockController} from "./controller/ClockController";

export class ModalPopupModule extends ApplicationModule{
    public execute(): void {
        super.execute();
        addServerModel(createInstance(ErrorServerModel));
        bindMediator(YesNoPopupMediator, YesNoPopupView, "yesNoPopup", "featureScreen");
        bindMediator(YesNoSoundPopupMediator, YesNoPopupView, "yesNoSoundPopup", "featureScreen");
        bindMediator(LowBalancePopupMediator, LowBalancePopupView, "lowBalancePopupContainer");
        createInstance(ClockController);
        const modal = new ModalPopup();
        modal.insertPopupStyles();
    }
}
