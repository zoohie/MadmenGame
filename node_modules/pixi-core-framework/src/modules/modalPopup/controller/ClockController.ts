import {BaseController} from "../../../core/engine/BaseController";
import {CoreEvents} from "general-framework";
import {CoreTimer} from "../../../core/engine/renderer/CoreTimer";
import {CoreRenderer} from "../../../core/engine/renderer/CoreRenderer";
import {EnterFrameManager} from "../../../core/engine/renderer/EnterFrameManager";
import {TweenMax} from "gsap";

export class ClockController extends BaseController {

    protected addListeners(): void {
        super.addListeners();
        this.dispatcher.addListener(CoreEvents.EXIT_GAME_PRESSED, this.onExitGame, this)
    }

    protected onExitGame(): void {
        CoreTimer.pauseAll();
        CoreRenderer.pause();
        EnterFrameManager.activate(false);
        TweenMax.pauseAll();
        CoreRenderer.renderer.destroy();
    }
}
