import {BaseMediator} from "../../../core/engine/BaseMediator";
import {ModalPopupEvents} from "../events/ModalPopupEvents";
import {LowBalancePopupView} from "../views/LowBalancePopupView";
import {RendererManagerEvents} from "../../renderModule/events/RendererManagerEvents";
import {IRenderViewParams} from "../../renderModule/IRenderViewParams";

export class LowBalancePopupMediator extends BaseMediator {

    protected view: LowBalancePopupView;

    addListeners(): void {
        super.addListeners();
        this.dispatcher.addListener(RendererManagerEvents.RESIZE, this.onResize.bind(this));
        this.dispatcher.addListener(ModalPopupEvents.SHOW_LOW_BALANCE_POPUP, () => {
            this.view.show();
        });
        this.dispatcher.addListener(ModalPopupEvents.HIDE_LOW_BALANCE_POPUP, () => {
            this.view.hide();
        });
        this.registerViewListener(ModalPopupEvents.HIDE_LOW_BALANCE_POPUP);

    }
    private onResize(params: IRenderViewParams): void {
        this.view.onResize(params);
    }
}
