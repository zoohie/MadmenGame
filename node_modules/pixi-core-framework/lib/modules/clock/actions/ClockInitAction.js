import { BaseAction } from "../../../core/engine/fsm/BaseAction";
import { ClockEvents } from "../events/ClockEvents";
import { CoreInitParamsModel } from "../../server/models/CoreInitParamsModel";
import { getModel } from "../../../core/engine/createInstance";
import { CoreEvents, EventDispatcher } from "general-framework";
export class ClockInitAction extends BaseAction {
    execute() {
        this.dispatcher.dispatch(ClockEvents.START_CLOCK);
        const initParamsModel = getModel(this, CoreInitParamsModel);
        if (initParamsModel.realityCheckData !== undefined) {
            let realityCheckData = initParamsModel.realityCheckData;
            EventDispatcher.getInstance().dispatch(CoreEvents.ON_INIT_RECEIVED, realityCheckData);
            EventDispatcher.getInstance().dispatch(CoreEvents.SET_REALITY_CHECK_TIMEOUT);
        }
        return Promise.resolve();
    }
}
//# sourceMappingURL=ClockInitAction.js.map