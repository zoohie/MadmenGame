# Pixi games framework

the second part of the doll matryoshka for pixi games

Changelog:

12/02/2020
SFF-70 add view component access from console
SFF-69 lazy load for sounds

19/02/2020
ALIB-401 No limit in the config, hidden from view 
class **RadioButtonGroup** add public _setRadioButtonVisible_(buttonId: string, visible: boolean): void method 

20/02/2020
ALIB-429 Footer should resize along with the main game window
class **RenderManager** change modifier from private to protected 

21/02/2020
SFF-33 disabling the logger in the console on the production server
class **FSMContext**, check process.env.NODE_ENV !== 'production'

22/02/2020
ALIB-429
class **SafeAreaView** safe area is different.
 For mobile layoutId : "`safeAreaRectangleMobile"`, 
 for desktop layoutId : `"safeAreaRectangleDesktop"`.
 
 24/02/2020
 ALIB-467 
 class **BaseContainer** , interface **ILayoutContainerConfig**
 add parameters 
` "width"?: number, - width of container/ all children will be aligned according to this width
"showBound"?: boolean, - show rectangle around the children
"align"?: string - "left", "center", "right"`

25/02/2020
ALIB-425
class **BaseLabel**, public _alignText_(): void  method
now we can align MultiStyle text

26/02/2020
ALIB-487
class **BaseLabel**, _constructor_()
fix multistyle bug with Samsung Galaxy s6, s7 (for text with width more then 900 px)
ALIB-482
classes **LoadBitmapFontsInitAction**, **SlotBitmapFontsLoader**
fix loader reset

27/02/2020
ALIB-473
**LoadWebFontsAction** increase timeout outloop to 200 sec

30/03/2020
INTE-177
Doesn't work "Swipe" on IOS.
classes **ScreenMobileManager** and **RenderManager**
changes made for iFrame check on iOS mobile, timeout "_hideTimeout_" set to hide swipe

06/04/2020
FGFW-61 Certification for Italy
class **ClockView** - pose popup relative to a clock label

09/04/2020
DIAM-196 Implementation of new rules of scaling BG
class **BackgroundView**.ts change _resize_(): void method

09/04/2020
DIAM-175 add close possibility to 5 of a kind animation
class **CoreCountUp**.ts _onComplete_(): void method and _killTimer_(): void method
now this methods are public, count up can be finished at any time

19/05/2020
GBON-129
class **BaseViewComponent** add public _setVisible_(value: boolean): void method

20/07/2020
TEMP-49
class **BaseButton** , protected _onButtonDown_(): void method
add this._emit_(PointerEventsConstants.POINTERDOWN);

06/08/2020
TEMP-63
class ClockView
add protected _timeItselfPortrait_: BaseLabel; 
class **GameLogoView**
switch between portrait and landscape view 

21/08/2020
TEMP-87
switch portrait view feature by parameter from init end point
class **BaseView**, **BaseMediator** - validate if we have source from view_config

09/09/2020
TEMP-92
class **RadioButtonGroup**, finction public _setValue_(value: string, stopPropagation: boolean = false): void
add stopPropagation flag

18/09/2020
package.json update versions freeze:
`"compression-webpack-plugin": "3.0.0"
"copy-webpack-plugin": "5.0.3"
"@types/node": "14.10.1"`

21/10/2020
**BaseState** and **BaseAction** - add _skip_() method
change actions order from Promise.all() to a queue of promises
Now we can skip all serial actions in any state. 

26/10/2020
**BaseState** - add interactiveObject field
any sprite in view config can be interactive
**IBaseSpriteConfig** - add interactive field to view config

06/11/2020
SANT-318 Game freeze after changing tabs
**createInstance**.ts - game freeze after changing tabs 
_freezeApp_() method update

06/11/2020
SANT-321 Incorrect display of the autospin counter
**VerticalScrollComponent**.ts - public method _get drag_started_ added

09/11/2020
SANT-336 if release over another button it would count as a click
class **RadioButtonGroup** - add methods public _lock()_ and _unlock()_
class **VerticalScrollComponent** - add methods public _onDragStartDelegate()_ and _onDragEndDelegate()_
(implementation example - slot-frame2ork#2.0.0 - class **AutoSpinPopupViewMobile**)

09/11/2020
SANT-332 Mobile Autospin start on realease regardless of where the finger pressed
class **BaseButton** - new event `"touchendoutside"` added to __hitTestObject_ field

12/11/2020
SANT-365 Poor performance of auto spin buttons
class **VerticalScrollComponent** - added _isFirstDragStartCall_ field
implemented at _onDragStart_ and _onDrag_ methods

13/11/2020
SANT-327: Incorrect calculation with floating point numbers. 
Code refactoring class **BackgroundsView**

16/11/2020
class **CoreCountUp** refactoring - add _useRoundValues_ setter to calculate value ass round value

19/11/2020
class **BaseSpineComponent** refactoring - refactoring _pause()_ and _resume()_ methods to pause and resume spine animation

19/11/2020
class **BackgroundsEvents** refactoring - new events added `PAUSE_BACKGROUND_ANIMATIONS` and `RESUME_BACKGROUND_ANIMATIONS` to pause and resume animation for background

23/11/2020
SANT-413 [mobile] Turbo mode + switching apps = endless spin
class **CoreTimer** refactoring - method _start()_ refactoring to pause timer

23/11/2020
SANT-332 Mobile Autospin start on realease regardless of where the finger pressed
class **BaseCheckBox** refactoring - does not enable user to send _CLICK_ event if there were no _PointerEventsConstants.POINTERDOWN_
  public static _PRESSED_STATE_ added
  public static _HOVER_STATE_ added
  public static _UP_STATE_ added
  
23/11/2020
SANT-418 Two loaders after interruption on FG mode
class **PreloaderView** and class **PreloaderMediator** and class **PreloaderPortraitMediator** refactoring

26/11/2020
SANT-428 Santa game doesn't go on full screen in landscape view on iPhone 7
class **ScreenMobileManager** refactoring - added _addScrollUpListener_ method for mobile and iOS devices only.
 method _addScrollUpListener_ includes new listeners for events `touchstart` and `touchend`
 
1/12/2020
SFF-90
class **CoreSoundManager** refactoring - added ability to control sound volume with tween events.
Events: 
`CoreSoundEvents.SET_TWEEN_VOLUME` - set _tweenVolume_ with interface params **ITweenVolumeData**
`CoreSoundEvents.SET_VOLUME` - set fixed volume value method _setVolume_

"@types/node": "14.10.1"

23/10/2020
INTE-487
Added subscription to APIEvents in APIController of General Framework

17/01/2021
  new npm script `copy-data` added to **package.json**
     - helps to copy data to different local projects,
     - use "copy-local-data.json" to copy exported data to other projects
        description:
            "path": [
                {
                  "to": "path of your other local project\\node_modules\\general-framework\\lib",
                  "from": "lib"  // this project "lib" folder
                },
                {
                  "to": "path of your other local project\\node_modules\\general-framework\\src",
                  "from": "src" // this project "src" folder
                },    
            ]
         all data in "to" directory, will be overwrited with "from"
         
17/01/2021
  new class **LoadAssetGeneralAction** - the same behavior as for **LoadAssetPreloadAction** but with `LoaderConstants.GENERAL_PRIORITY`;
  new class **LoadSoundGeneralAction** - the same behavior as for **LoadSoundPreloadAction** but with `LoaderConstants.GENERAL_PRIORITY`;
  new class **LoadSpineGeneralDataAction** - the same behavior as for **LoadSpineDataAction** but with `LoaderConstants.GENERAL_PRIORITY`;
  **SlotAssetsLoader** - _onLoadProgress_ changed to load assets async for `LoaderConstants.GENERAL_PRIORITY` priority assets;
  **IAssetsGroup** - added bitmapFont data fields _id_ , _fountURL_, _atlasUrl_;
  **BaseMediator** - `LoadEvents.PROJECT_LOADING_COMPLETE` listener added to execute after `LoaderConstants.GENERAL_PRIORITY` priority data loaded


